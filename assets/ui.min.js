function addParam(t,e,n){return t.replace(new RegExp("([?&]"+e+"(?=[=&#]|$)[^#&]*|(?=#|$))"),"&"+e+"="+n).replace(/^([^?&]+)&/,"$1?")}function Modal(t,e){let n={open:function(){if(n.isOpen)return;n.isOpen=!0,Modal._modalsOpen++,n._nthModalOpened=Modal._modalsOpen;let t=1e3+2*Modal._modalsOpen;if(n.$overlay.css({zIndex:t}),n.$el.css({zIndex:t+1}),n.options.preventScrolling&&$("body").addClass("no-scroll"),n.$overlay.css({display:"block",opacity:n.options.opacity}),n.el.insertAdjacentElement("afterend",n.$overlay[0]),n.$el.addClass("open"),n.options.dismissible){var e=$(document);e.on("keydown",function(t){27===t.keyCode&&n.options.dismissible&&n.close()}),e.on("focus",function(t){n.el.contains(t.target)||n._nthModalOpened!==Modal._modalsOpen||n.el.focus()})}n.el.focus()},close:function(){if(n.isOpen){if(n.isOpen=!1,Modal._modalsOpen--,n._nthModalOpened=0,n.$overlay.css({opacity:0}),n.$el.removeClass("open"),$("body").removeClass("no-scroll"),n.options.dismissible){var t=$(document);t.off("keydown",n._handleKeydownBound),t.off("focus",n._handleFocusBound,!0)}setTimeout(function(){n.$overlay.remove(),n.options.onCloseEnd&&n.options.onCloseEnd()},250)}}};return n.el=t.length?t[0]:t,n.$el=$(t),n.options=$.fn.extend({opacity:.5,onCloseEnd:null,preventScrolling:!0,dismissible:!0},e),n.isOpen=!1,n.$overlay=$(`<div ${0==n.options.opacity?"":'class="overlay"'}></div>`),n._nthModalOpened=0,Modal._count++,n.$overlay.on("click",function(){n.options.dismissible&&n.close()}),n.$el.on("click",function(t){$(t.target).closest(".modal-close").length&&n.close()}),n}function Collapsible(t){$(t).find(".collapsible-header").on("click",function(t){$(this).next().toggleClass("open")}),$(t).find(":target .collapsible-body").addClass("open")}window.prefix=function(){var t=window.getComputedStyle(document.documentElement,"");return"-"+(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1]+"-"}(),window.$=function(){var t,e=document,n=window,i=Array.prototype,r=i.slice,o=i.filter,s=i.push,a=function(t){return t instanceof Function},l=function(t){return"string"==typeof t},c=/^#[\w-]*$/,u=/^\.[\w-]*$/,d=/<.+>/,h=/^\w+$/;function f(t,n){n=n||e;var i=c.test(t)?e.getElementById(t.slice(1)):u.test(t)?n.getElementsByClassName(t.slice(1)):h.test(t)?n.getElementsByTagName(t):n.querySelectorAll(t);return i}function p(t){"loading"!==e.readyState?t():document.addEventListener("DOMContentLoaded",t)}function v(i,r){if(!i)return this;if(i.cash)return i;var o,s=i,c=0;if(l(i))s=d.test(i)?function(n){if(!t){var i=(t=e.implementation.createHTMLDocument(null)).createElement("base");i.href=e.location.href,t.head.appendChild(i)}return t.body.innerHTML=n,t.body.childNodes}(i):f(i,r);else if(a(i))return p(i),this;if(!s)return this;if(s.nodeType||s===n)this[0]=s,this.length=1;else for(o=this.length=s.length;c<o;c++)this[c]=s[c];return this}function m(t,e){return new v(t,e)}var y=m.fn=m.prototype=v.prototype={cash:!0,length:0,push:s,splice:i.splice,map:i.map,slice:i.slice,init:v};function g(t,e){for(var n=t.length,i=0;i<n&&!1!==e.call(t[i],t[i],i,t);i++);}function $(t,e){var n=t&&(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector);return!!n&&n.call(t,e)}function b(t){return l(t)?$:t.cash?function(e){return t.is(e)}:function(t,e){return t===e}}function w(t){return m(r.call(t).filter(function(t,e,n){return n.indexOf(t)===e}))}Object.defineProperty(y,"constructor",{value:m}),y.extend=function(t){t=t||{};var e=r.call(arguments),n=e.length,i=1;for(1===e.length&&(t=this,i=0);i<n;i++)if(e[i])for(var o in e[i])e[i].hasOwnProperty(o)&&(t[o]=e[i][o]);return t};var C=/\S+/g;function M(t){return l(t)&&t.match(C)}function x(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function D(t,e,n){t.classList?t.classList.add(e):n.indexOf(" "+e+" ")&&(t.className+=" "+e)}function O(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}function k(t,e){return parseInt(n.getComputedStyle(t[0],null)[e],10)||0}function T(t,e,n){n&&t.removeEventListener(e,n)}function L(t){var e=t.type;if(!e)return null;switch(e.toLowerCase()){case"select-one":return function(t){var e=t.selectedIndex;return e>=0?t.options[e].value:null}(t);case"select-multiple":return function(t){var e=[];return g(t.options,function(t){t.selected&&e.push(t.value)}),e.length?e:null}(t);case"radio":case"checkbox":return t.checked?t.value:null;default:return t.value?t.value:null}}y.extend({addClass:function(t){var e=M(t);return e?this.each(function(t){var n=" "+t.className+" ";g(e,function(e){D(t,e,n)})}):this},attr:function(t,e){if(t){if(l(t))return void 0===e?this[0]?this[0].getAttribute(t):this[0][t]:!!this[0]&&this[0].setAttribute(t,e);for(var n in t)this.attr(n,t[n]);return this}},hasAttr:function(t){return null!=this.attr(t)},hasClass:function(t){var e=!1,n=M(t);return n&&n.length&&this.each(function(t){return!(e=x(t,n[0]))}),e},removeClass:function(t){if(!arguments.length)return this.attr("class","");var e=M(t);return e?this.each(function(t){g(e,function(e){O(t,e)})}):this},toggleClass:function(t,e){if(void 0!==e)return this[e?"addClass":"removeClass"](t);var n=M(t);return n?this.each(function(t){var e=" "+t.className+" ";g(n,function(n){x(t,n)?O(t,n):D(t,n,e)})}):this}}),y.extend({each:function(t){return g(this,t),this},filter:function(t){if(!t)return this;var e=a(t)?t:b(t);return m(o.call(this,function(n){return e(n,t)}))}}),y.extend({css:function(t,e){if(l(t))return arguments.length>1?this.each(function(n){t in n.style?n.style[t]=e:n.style[preix+t]=e}):n.getComputedStyle(this[0])[t];for(var i in t)this.css(i,t[i]);return this}}),g(["Width","Height"],function(t){var e=t.toLowerCase();y[e]=function(){return this[0].getBoundingClientRect()[e]},y["inner"+t]=function(){return this[0]["client"+t]},y["outer"+t]=function(e){return this[0]["offset"+t]+(e?k(this,"margin"+("Width"===t?"Left":"Top"))+k(this,"margin"+("Width"===t?"Right":"Bottom")):0)}}),y.extend({off:function(t,e){return this.each(function(n){return T(n,t,e)})},on:function(t,e,n,i){var r;if(!l(t)){for(var o in t)this.on(o,e,t[o]);return this}return a(e)&&(n=e,e=null),"ready"===t?(p(n),this):(e&&(r=n,n=function(t){for(var n=t.target;!$(n,e);){if(n===this||null===n)return n=!1;n=n.parentNode}n&&r.call(n,t)}),this.each(function(e){var r=n;i&&(r=function(){n.apply(this,arguments),T(e,t,r)}),function(t,e,n){t.addEventListener(e,n)}(e,t,r)}))},ready:p}),y.extend({val:function(t){return void 0===t?L(this[0]):this.each(function(e){return e.value=t})}}),y.extend({append:function(t){return function t(e,n,i){var r=l(n);r||!n.length?g(e,r?function(t){return t.insertAdjacentHTML(i?"afterbegin":"beforeend",n)}:function(t,e){return function(t,e,n){if(n){var i=t.childNodes[0];t.insertBefore(e,i)}else t.appendChild(e)}(t,0===e?n:n.cloneNode(!0),i)}):g(n,function(n){return t(e,n,i)})}(this,t),this},html:function(t){if(void 0===t)return this[0].innerHTML;var e=t.nodeType?t[0].outerHTML:t;return this.each(function(t){return t.innerHTML=e})},insertBefore:function(t){return m(t).each(function(t,e){var n=t.parentNode;this.each(function(i){n.insertBefore(0===e?i:i.cloneNode(!0),t)})}),this},remove:function(){return this.each(function(t){if(t.parentNode)return t.parentNode.removeChild(t)})}});var E=e.documentElement;return y.extend({offset:function(){var t=this[0].getBoundingClientRect();return{top:t.top+n.pageYOffset-E.clientTop,left:t.left+n.pageXOffset-E.clientLeft}}}),y.extend({children:function(t){var e=[];return this.each(function(t){s.apply(e,t.children)}),e=w(e),t?e.filter(function(e){return $(e,t)}):e},closest:function(t){return!t||this.length<1?m():this.is(t)?this.filter(t):this.parent().closest(t)},is:function(t){if(!t)return!1;var e=!1,n=b(t);return this.each(function(i){return!(e=n(i,t))}),e},find:function(t){if(!t||t.nodeType)return m(t&&this.has(t).length?t:null);var e=[];return this.each(function(n){s.apply(e,f(t,n))}),w(e)},has:function(t){var e=l(t)?function(e){return 0!==f(t,e).length}:function(e){return e.contains(t)};return this.filter(e)},next:function(){return m(this[0].nextElementSibling)},parent:function(){var t=[];return this.each(function(e){e&&e.parentNode&&t.push(e.parentNode)}),w(t)},siblings:function(t){var e=this.parent().children(t),n=this[0];return e.filter(function(t){return t!==n})}}),m}(),window.M={},M.updateTextFields=function(){$("input").each(function(){$(this).siblings("label").toggleClass("active",this.value.length>0||this.autofocus)})},M.validate_field=function(t){t.removeClass("valid invalid"),t.is(".validate")&&(t.is(":valid")?t.addClass("valid"):t.addClass("invalid"))},$(document).ready(function(){let t=$(document);t.on("change","input",function(){0!==this.value.length&&$(this).siblings("label").addClass("active"),M.validate_field($(this))}),M.updateTextFields(),t.on("blur",function(t){var e=$(t.target);e.is("input")&&(e[0].value.length||e[0].validity.badInput||e.siblings("label").removeClass("active"),M.validate_field(e))},!0)}),Modal._modalsOpen=0,$(window).on("click","ntr ntd:first-child",function(t){$(this).closest("ntr").toggleClass("open")});var ic=function(t,e){var n,i,r,o,s,a=navigator.userAgent,l="createTouch"in t,c={},u=!1,d=!1,h=!1,f=!1,p={},v=!1,m=!1,y=!1;function g(t){return t.split("#")[0]}function b(t){let e=$(t).closest("a");return e.length?e:$(t)}function w(t){let i=t[0];var r=e.protocol+"//"+e.host;return!(!t.is("a")||i.target||t.hasAttr("download")||0!=i.href.indexOf(r+"/")||g(i.href)==n||$(t).closest("[data-no-instant]").length)}function C(){y&&y()}function M(i,r,o,s){t.documentElement.replaceChild(r,t.body),o?n=g(o):scrollTo(0,s),o=o.split("#"),history.pushState(null,null,o[0]),t.title=i+String.fromCharCode(160),e.hash=o[1]?`#${o[1]}`:"",k(),E.done(),C()}function x(t){if(!(o>+new Date-500)){var e=b(t.target);e.length&&w(e)&&T(e[0].href)}}function D(t){var e=b(t.target);e.length&&w(e)&&(t.which>1||t.metaKey||t.ctrlKey||(t.preventDefault(),L(e[0].href)))}function O(){if(!(s.readyState<4||0==s.status)){p.ready=+new Date-p.start;var e=t.implementation.createHTMLDocument("");e.documentElement.innerHTML=s.responseText.replace(/<noscript[\s\S]+<\/noscript>/gi,""),d=e.title,f=e.body;var n=g(u);c[n]={body:f,title:d,scrollY:n in c?c[n].scrollY:0},m&&(m=!1,L(u))}}function k(){let n=$("body"),i=!1,r=!1;var s={x:0,y:0},a={x:0,y:0},l=!1;let c=0,u=!1;var d=!1,h=!1;var f=$("#menu");function p(t){f.css({transform:`translateX(${t})`})}function v(){n.addClass("no-scroll"),p(0),f.addClass("open"),h=!0}function m(){n.removeClass("no-scroll"),p("-110%"),f.removeClass("open"),h=!1}function y(){r||($("#rle").css({top:""}),$("body").removeClass("spin"))}$(t).on("scroll",function(){u||(clearTimeout(void 0),l=!0)}),$(".overlay").on("click",m),$("#mo").on("click",()=>{v()}),n.on("touchstart",function(t){u=!1,d=!1,s.x=t.touches[0].pageX,s.y=t.touches[0].pageY,o=+new Date;var e=b(t.target);e.length&&w(e)&&(e.off("mousedown",x),T(e[0].href))}).on("touchmove",function(e){if(!l&&void 0!==e.touches){var o=e.touches[0].clientX-s.x,a=c=o;if(!(Math.abs(a)>307||s.x>50)){if(Math.abs(o)>20){if(d=!0,h&&o>0||!h&&o<0)return;o<=0&&(a=o+307,d=!1),p(a-307+"px"),u=!0}if(i=0===t.scrollingElement.scrollTop&&!(h||d),n.toggleClass("no-scroll",i),i&&!r){const t=e.touches[0].pageY-s.y;$("#rle").css({top:Math.min(t,120)+"px"})}else y()}}}).on("touchcancel",function(){u=!1,d=!1,l=!1}).on("touchend",function(t){if(u&&(d&&Math.abs(c)>70?v():m()),u=!1,a.x=t.changedTouches[0].pageX,a.y=t.changedTouches[0].pageY,i){var n=Math.abs(s.y-a.y),o=Math.abs(s.x-a.x);!r&&s.y<a.y&&(o<=100&&n>=90||o/n<=.3&&n>=60)?(y(),$("body").addClass("spin"),r=!0,L(addParam(e.href,"fr","true"))):y(),i=!1}l=!1}),n.on("mousedown",x,!0),n.on("click",D,!0)}function T(t){r&&(clearTimeout(r),r=!1),t||(t=i),v&&(t==u||m)||(v=!0,m=!1,u=t,f=!1,h=!1,p={start:+new Date},t=addParam(t,"just_html","1"),s.open("GET",t),s.send())}function L(t){if("display"in p||(p.display=+new Date-p.start),r||!v)return r&&u&&u!=t?void(e.href=t):(T(t),E.start(0,!0),void(m=!0));if(m)e.href=t;else if(h)e.href=u;else{if(!f)return E.start(0,!0),void(m=!0);c[n].scrollY=pageYOffset,v=!1,m=!1,M(d,f,u)}}var E=function(){var e,n,i,r;function o(t,n){i=t,e.css({opacity:"1"}),c(),n&&window.requestAnimationFrame(s,0),clearTimeout(r),r=setTimeout(a,500)}function s(){i=10,c()}function a(){i<98&&(i+=1+2*Math.random(),r=setTimeout(a,500)),c()}function c(){n.css("transform","translate("+i+"%)"),!$("#ic").length&&t.body&&$("body").append(e)}function u(){e.css({left:pageXOffset+"px",width:innerWidth+"px",top:pageYOffset+"px"});var t="orientation"in window&&90==Math.abs(orientation),n=innerWidth/screen[t?"height":"width"]*2;e.css("transform","scaleY("+n+")")}return{init:function(){e=$('<div id="ic"></div>'),$("body").append(e),n=$('<div id="ic-bar" class="ic-bar"></div>'),e.append(n);var t=prefix+"transition",i=$("<style/>");i.html("#ic{position:"+(l?"absolute":"fixed")+";top:0;left:0;width:100%;pointer-events:none;z-index:9999;"+t+":all .25s .1s}.ic-bar{background:red;width:100%;margin-left:-100%;height:2px;"+t+":all .25s}"),$("head").append(i),l&&(u(),addEventListener("resize",u),addEventListener("scroll",u))},start:o,done:function t(){if($("#ic").length)return clearTimeout(r),i=100,c(),void e.css({opacity:0});o(100==i?0:i),window.requestAnimationFrame(t)}}}(),S="pushState"in history&&(!a.match("Android")||a.match("Chrome/"))&&"file:"!=e.protocol;return{init:function(){n||(S?($preloadOnMousedown=!0,n=g(e.href),c[n]={body:t.body,title:t.title,scrollY:pageYOffset},(s=new XMLHttpRequest).addEventListener("readystatechange",O),k(),E.init(),C(),addEventListener("popstate",function(){var t=g(e.href);t!=n&&(t in c?(c[n].scrollY=pageYOffset,n=t,M(c[t].title,c[t].body,!1,c[t].scrollY)):e.href=e.href)})):C())},on:function(t){y=t}}}(document,location),DatePicker=function(){this.date=new Date,this.currentYear=this.date.getFullYear(),this.currentMonth=this.date.getMonth(),this.currentDay=this.date.getDate(),this.month=this.currentMonth+0,this.year=this.currentYear+0,this.day=this.currentDay+0,this.selectedYear=null,this.selectedDay=null,this.selectedMonth=null,this.daysShort=["V","H","K","S","C","P","S"];let t=this;$("#date").on("focus",function(){$("#dp").css({display:"block"})}),$(document).on("click",function(t){let e=$(t.target);e.is("#date")||e.closest(".calendar-wrap").length||$("#dp").css({display:"none"})}),$("#date").on("blur",function(){let e=$(this);if(e.is(".valid")){let n=e.val().split("-");3==n.length&&(t.selectedDay=n[2],t.selectedMonth=n[1]-1,t.selectedYear=n[0],t.renderCalendar())}})};DatePicker.prototype.monthData=function(t,e){return{year:e,month:t,monthDaysCount:function(){return new Date(e,t+1,0).getDate()},weekDay:function(n){return new Date(e,t,n).getDay()}}},DatePicker.prototype.distributeDays=function(t){for(var e=1,n=t.monthDaysCount(),i="";e<=n;){i+="<tr>";for(var r=0;r<7;r++){if(t.weekDay(e)==r){i+=`<td class="${this.selectedDay==e&&this.selectedMonth==t.month&&this.selectedYear==t.year?"active day":this.currentDay==e&&this.currentMonth==t.month&&this.currentYear==t.year?"today day":this.currentDay>e&&this.currentMonth==t.month?"dsb":"day"}">${e++}</td>`}else i+="<td></td>";if(e>n)break}i+="</tr>"}return i},DatePicker.prototype.renderCalendar=function(){var t=this.monthData(this.month,this.year),e=$("#dp");let n='<div class="calendar-wrap"><div class="calendar-month-name center">';t.year!=this.year||t.month-1<this.month||(n+='<a href="#" id="pm" class="left">&#10094;</a>'),n+=`<span class="month-name"><b>${["Január","Február","Március","Április","Május","Június","Július","Agusztus","Szeptember","Oktober","November","December"][t.month]}</b> ${t.year}</span><a href="#" id="nm" class="right">&#10095;</a></div><div class="calendar-month"><table class="calendar"><thead class="calendar-header"><tr class="calendar-row">`;for(var i=0;i<this.daysShort.length;i++)n+="<th>"+this.daysShort[i]+"</th>";n+='</tr></thead><tbody id="cb" class="calendar-body">'+this.distributeDays(t)+"</tbody></table></div></div>",e.html(n);let r=this;$("#nm").on("click",function(){r.month++,r.month>11&&(r.month=0,r.year++),r.renderCalendar()}),$("#pm").on("click",function(){r.month--,r.month<0&&(r.month=11,r.year--),r.renderCalendar()}),$("#cb").on("click",function(t){$(this).find(".active").removeClass("active");let n=$(t.target);n.is(".dsb")||(r.selectedDay=n.addClass("active").html(),r.selectedMonth=r.month,r.selectedYear=r.year,$("#date").val(`${r.year}-${("0"+(r.month+1)).slice(-2)}-${("0"+n.html()).slice(-2)}`),e.css({display:"none"}))})};