function Modal(e, t) { var n = { open: function () { if (n.isOpen) return; n.isOpen = !0, Modal._modalsOpen++ , n._nthModalOpened = Modal._modalsOpen; let e = 1e3 + 2 * Modal._modalsOpen; if (n.$overlay.css({ zIndex: e }), n.$el.css({ zIndex: e + 1 }), n.options.preventScrolling && $("body").addClass("no-scroll"), n.$overlay.show().css({ opacity: n.options.opacity }), n.el.insertAdjacentElement("afterend", n.$overlay[0]), n.$el.addClass("open"), n.options.dismissible) { var t = $(document); t.on("keydown", function (e) { 27 === e.keyCode && n.options.dismissible && n.close() }), t.on("focus", function (e) { n.el.contains(e.target) || n._nthModalOpened !== Modal._modalsOpen || n.el.focus() }) } n.el.focus() }, close: function () { if (n.isOpen) { if (n.isOpen = !1, Modal._modalsOpen-- , n._nthModalOpened = 0, n.$overlay.css({ opacity: 0 }), n.$el.removeClass("open"), $("body").removeClass("no-scroll"), n.options.dismissible) { var e = $(document); e.off("keydown", n._handleKeydownBound), e.off("focus", n._handleFocusBound, !0) } setTimeout(function () { n.$overlay.remove(), n.options.onCloseEnd && n.options.onCloseEnd() }, 250) } } }; return n.el = e.length ? e[0] : e, n.$el = $(e), n.options = $.fn.extend({ opacity: .5, onCloseEnd: null, preventScrolling: !0, dismissible: !0 }, t), n.isOpen = !1, n.$overlay = $(`<div ${0 == n.options.opacity ? "" : 'class="overlay"'}></div>`), n._nthModalOpened = 0, Modal._count++ , n.$overlay.on("click", function () { n.options.dismissible && n.close() }), n.$el.on("click", function (e) { $(e.target).closest(".modal-close").length && n.close() }), n } function Collapsible(e) { $(e).find(".collapsible-header").on("click", function (e) { $(this).next().toggleClass("open") }), $(e).find(":target .collapsible-body").addClass("open") } Modal._modalsOpen = 0, $(window).on("click", "nr nd:first-child", function (e) { $(this).closest("nr").toggleClass("open") }); var ic = function (e, t) { var n, o, a, s, i, r = navigator.userAgent, l = "createTouch" in e, c = {}, d = !1, h = !1, u = !1, f = !1, p = {}, m = !1, y = !1, v = !1; function g(e) { return e.split("#")[0] } function b(e) { let t = $(e).closest("a"); return t.length ? t : $(e) } function M(e) { let o = e[0]; var a = t.protocol + "//" + t.host; return !(!e.is("a") || o.target || e.hasAttr("download") || 0 != o.href.indexOf(a + "/") || g(o.href) == n || $(e).closest("[data-no-instant]").length) } function w() { v && v() } function D(o, a, s) { e.documentElement.replaceChild(a, e.body), n = g(s), url = s.split("#"), history.pushState(null, null, s), e.title = o + String.fromCharCode(160), t.hash = url[1] ? `#${url[1]}` : "", k(), T.done(), w() } function C(e) { if (!(s > +new Date - 500)) { var t = b(e.target); t.length && M(t) && O(t[0].href) } } function x(e) { var t = b(e.target); t.length && M(t) && (e.which > 1 || e.metaKey || e.ctrlKey || (e.preventDefault(), Y(t[0].href))) } function k() { let n = $("body"); var o = $("#menu"); if (o.length) { let m = !1, y = !1; var a = { x: 0, y: 0 }, i = { x: 0, y: 0 }, r = !1; let v = 0, g = !1; var l = !1, c = !1; let w = 70, D = 307; var d = o.next(); function h(e) { o.css({ transform: `translateX(${e})` }) } function u() { d.show().css({ opacity: "" }), n.addClass("no-scroll"), h(0), o.addClass("open"), c = !0 } function f() { d.hide(), n.removeClass("no-scroll"), h("-110%"), o.removeClass("open"), c = !1 } function p() { y || ($("#rle").css({ top: "" }), $("body").removeClass("spin")) } $(e).on("scroll", function () { r = !0 }), $(".overlay").on("click", f), $("#mo").on("click", () => { u() }), n.on("touchstart", function (e) { g = !1, l = !1, a.x = e.touches[0].pageX, a.y = e.touches[0].pageY, s = +new Date; var t = b(e.target); t.length && M(t) && (t.off("mousedown", C), O(t[0].href)) }).on("touchmove", function (t) { if (d.hide(), (l || c) && d.show(), !r && void 0 !== t.touches) { var o = t.touches[0].clientX - a.x, s = v = o; if ((Math.abs(s) < D || a.x < 50) && Math.abs(o) > 20 && (l = !0, !c && o > 0 || c && o < 0)) { o <= 0 && (s = o + D, l = !1); let e = s - D; d.css({ opacity: (280 + e) / 280 * .2 }), h(Math.min(e, 0) + "px"), g = !0 } if (m = 0 === e.scrollingElement.scrollTop && !(c || l), n.toggleClass("no-scroll", m), m && !y) { const e = t.touches[0].pageY - a.y; $("#rle").css({ top: Math.min(e, 120) + "px" }) } else p() } }).on("touchcancel", function () { g = !1, l = !1, r = !1 }).on("touchend", function (e) { if (g && (l && Math.abs(v) > w ? u() : f()), g = !1, i.x = e.changedTouches[0].pageX, i.y = e.changedTouches[0].pageY, m) { var n = Math.abs(a.y - i.y), o = Math.abs(a.x - i.x); !y && a.y < i.y && (o <= 100 && n >= 90 || o / n <= .3 && n >= 60) ? (p(), $("body").addClass("spin"), y = !0, Y(addParam(t.href, "fr"))) : p(), m = !1 } r = !1 }) } n.on("mousedown", C), n.on("click", x) } function O(e) { a && (clearTimeout(a), a = !1), e || (e = o), m && (e == d || y) || (m = !0, y = !1, d = e, f = !1, u = !1, p = { start: Date.now() }, e = addParam(e, "just_html"), i.open("GET", e), i.send()) } function Y(e) { if ("display" in p || (p.display = Date.now() - p.start), a || !m) return a && d && d != e ? void (t.href = e) : (O(e), T.start(0, !0), void (y = !0)); if (y) t.href = e; else if (u) t.href = d; else { if (!f) return T.start(0, !0), void (y = !0); c[n].scrollY = pageYOffset, m = !1, y = !1, D(h, f, d) } } var T = function () { var t, n, o, a; function s(e, n) { o = e, t.css({ opacity: "1" }), c(), n && requestAnimationFrame(i), clearTimeout(a), a = setTimeout(r, 500) } function i() { o = 10, c() } function r() { o < 98 && (o += 1 + 2 * Math.random(), a = setTimeout(r, 500)), c() } function c() { n.css("transform", "translate(" + o + "%)"), !$("#ic").length && e.body && $("body").append(t) } function d() { t.css({ left: pageXOffset + "px", width: innerWidth + "px", top: pageYOffset + "px" }); var e = "orientation" in window && 90 == Math.abs(orientation), n = innerWidth / screen[e ? "height" : "width"] * 2; t.css("transform", "scaleY(" + n + ")") } return { init: function () { t = $('<div id="ic"></div>'), $("body").append(t), n = $('<div id="ic-bar" class="ic-bar"></div>'), t.append(n); var e = prefix + "transition", o = $("<style/>"); o.html("#ic{position:" + (l ? "absolute" : "fixed") + ";top:0;left:0;width:100%;pointer-events:none;z-index:9999;" + e + ":all .25s .1s}.ic-bar{background:red;width:100%;margin-left:-100%;height:2px;" + e + ":all .25s}"), $("head").append(o), l && (d(), addEventListener("resize", d), addEventListener("scroll", d)) }, start: s, done: function e() { if ($("#ic").length) return clearTimeout(a), o = 100, c(), void t.css({ opacity: 0 }); s(100 == o ? 0 : o), requestAnimationFrame(e) } } }(), _ = "pushState" in history && (!r.match("Android") || r.match("Chrome/")) && "file:" != t.protocol; return { init: function () { n || (_ ? ($preloadOnMousedown = !0, n = g(t.href), c[n] = { body: e.body, title: e.title, scrollY: pageYOffset }, (i = new XMLHttpRequest).addEventListener("readystatechange", function () { if (!(i.readyState < 4 || 0 == i.status)) { p.ready = Date.now() - p.start; var t = e.implementation.createHTMLDocument(""); t.documentElement.innerHTML = i.responseText.replace(/<noscript[\s\S]+<\/noscript>/gi, ""), h = t.title, f = t.body; var n = g(d); c[n] = { body: f, title: h, scrollY: n in c ? c[n].scrollY : 0 }, y && (y = !1, Y(d)) } }), k(), T.init(), w(), addEventListener("popstate", function () { var e = g(t.href); e != n && (e in c ? (c[n].scrollY = pageYOffset, n = e, D(c[e].title, c[e].body, e, c[e].scrollY)) : t.href = t.href) })) : w()) }, on: function (e) { v = e } } }(document, location), DatePicker = function () { this.date = new Date, this.currentYear = this.date.getFullYear(), this.currentMonth = this.date.getMonth(), this.currentDay = this.date.getDate(), this.month = this.currentMonth + 0, this.year = this.currentYear + 0, this.day = this.currentDay + 0, this.selectedYear = null, this.selectedDay = null, this.selectedMonth = null, this.daysShort = ["V", "H", "K", "S", "C", "P", "S"]; let e = this; $("#date").on("focus", function () { $("#dp").show() }), $(document).on("click", function (e) { let t = $(e.target); t.is("#date") || t.closest(".calendar-wrap").length || $("#dp").hide() }), $("#date").on("blur", function () { let t = $(this); if (t.is(".valid")) { let n = t.val().split("-"); 3 == n.length && (e.selectedDay = n[2], e.selectedMonth = n[1] - 1, e.selectedYear = n[0], e.renderCalendar()) } }) }; DatePicker.prototype.monthData = function (e, t) { return { year: t, month: e, monthDaysCount: function () { return new Date(t, e + 1, 0).getDate() }, weekDay: function (n) { return new Date(t, e, n).getDay() } } }, DatePicker.prototype.distributeDays = function (e) { for (var t = 1, n = e.monthDaysCount(), o = ""; t <= n;) { o += "<tr>"; for (var a = 0; a < 7; a++) { if (e.weekDay(t) == a) { o += `<td class="${this.selectedDay == t && this.selectedMonth == e.month && this.selectedYear == e.year ? "active day" : this.currentDay == t && this.currentMonth == e.month && this.currentYear == e.year ? "today day" : this.currentDay > t && this.currentMonth == e.month ? "dsb" : "day"}">${t++}</td>` } else o += "<td></td>"; if (t > n) break } o += "</tr>" } return o }, DatePicker.prototype.renderCalendar = function () { var e = this.monthData(this.month, this.year), t = $("#dp"); let n = '<div class="calendar-wrap"><div class="calendar-month-name center">'; e.year != this.year || e.month - 1 < this.month || (n += '<a href="#" id="pm" class="left">&#10094;</a>'), n += `<span class="month-name"><b>${["Január", "Február", "Március", "Április", "Május", "Június", "Július", "Agusztus", "Szeptember", "Oktober", "November", "December"][e.month]}</b> ${e.year}</span><a href="#" id="nm" class="right">&#10095;</a></div><div class="calendar-month"><table class="calendar"><thead class="calendar-header"><tr class="calendar-row">`; for (var o = 0; o < this.daysShort.length; o++)n += "<th>" + this.daysShort[o] + "</th>"; n += '</tr></thead><tbody id="cb" class="calendar-body">' + this.distributeDays(e) + "</tbody></table></div></div>", t.html(n); let a = this; $("#nm").on("click", function () { a.month++ , a.month > 11 && (a.month = 0, a.year++), a.renderCalendar() }), $("#pm").on("click", function () { a.month-- , a.month < 0 && (a.month = 11, a.year--), a.renderCalendar() }), $("#cb").on("click", function (e) { $(this).find(".active").removeClass("active"); let n = $(e.target); n.is(".dsb") || (a.selectedDay = n.addClass("active").html(), a.selectedMonth = a.month, a.selectedYear = a.year, $("#date").val(`${a.year}-${("0" + (a.month + 1)).slice(-2)}-${("0" + n.html()).slice(-2)}`), t.hide()) }) };
